---
id: olbpj
title: Modular Plugins
file_version: 1.1.1
app_version: 1.1.5
---

Darkan features proprietary plugins which handle triggers activated by the player. Here are the ones which exist in the current revision:

<br/>

<div align="center"><img src="https://firebasestorage.googleapis.com/v0/b/swimmio-content/o/repositories%2FZ2l0aHViJTNBJTNBZGFya2FuLXdvcmxkLXNlcnZlciUzQSUzQUplc3NlR3VlcnJlcm8%3D%2Fc81126de-6437-4623-9aed-6c0eec88c1ec.png?alt=media&token=3eae8574-65ed-40bc-a41d-ff1762fecc50" style="width:'25%'"/></div>

<br/>

These plugins are children to PluginHandler<T> generic. Each plugin creates an event in the case of some trigger in the world. The header, for example the COUNT\_DRAYNOR\_ID below is the trigger which is handled by the plugin. These plugins contain the code activated by said trigger of the plugin type. Below is the natural progression of abstraction of an example plugin and its trigger...
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/main/java/com/rs/game/content/quests/handlers/vampireslayer/CountDraynorBoss.java
```java
270    	public static ItemOnNPCHandler hammerOnCountDraynor = new ItemOnNPCHandler(COUNT_DRAYNOR_ID) {
271    		@Override
272    		public void handle(ItemOnNPCEvent e) {
273    			if(e.getItem().getId() == STAKE_HAMMER || e.getItem().getId() == REGULAR_HAMMER)
274    				for(NPC npc : World.getNPCsInRegion(e.getPlayer().getRegionId()))
275    					if(npc.getId() == COUNT_DRAYNOR_ID)
276    						if (npc.isLocked())
277    							((CountDraynorBoss) npc).die(e.getPlayer());
278    						else
279    							e.getPlayer().sendMessage("I must weaken him first");
280    		}
281    	};
```

<br/>

Here is the parent
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/main/java/com/rs/plugin/handlers/ItemOnNPCHandler.java
```java
17     package com.rs.plugin.handlers;
18     
19     import com.rs.plugin.events.ItemOnNPCEvent;
20     
21     public abstract class ItemOnNPCHandler extends PluginHandler<ItemOnNPCEvent> {
22     	private boolean checkDistance = true;
23     
24     	public ItemOnNPCHandler(boolean checkDistance, Object[] namesOrIds) {
25     		super(namesOrIds);
26     		this.checkDistance = checkDistance;
27     	}
28     
29     	public ItemOnNPCHandler(Object... namesOrIds) {
30     		super(namesOrIds);
31     	}
32     
33     	public boolean isCheckDistance() {
34     		return checkDistance;
35     	}
36     }
```

<br/>

and here is the generic
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/main/java/com/rs/plugin/handlers/PluginHandler.java
```java
17     package com.rs.plugin.handlers;
18     
19     import com.rs.plugin.events.PluginEvent;
20     
21     public abstract class PluginHandler<T extends PluginEvent> {
22     	protected Object[] keys;
23     
24     	public PluginHandler(Object[] keys) {
25     		this.keys = keys;
26     	}
27     
28     	public abstract void handle(T e);
29     	public boolean handleGlobal(T e) {
30     		return false;
31     	}
32     	public Object getObj(T e) {
33     		return null;
34     	}
35     
36     	public Object[] keys() {
37     		return keys;
38     	}
39     }
40     
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBZGFya2FuLXdvcmxkLXNlcnZlciUzQSUzQUplc3NlR3VlcnJlcm8=/docs/olbpj).
